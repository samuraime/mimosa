webpackJsonp([0],[function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(5),__webpack_require__(26);var _platformBrowserDynamic=__webpack_require__(29),_appModule=__webpack_require__(37);(0,_platformBrowserDynamic.platformBrowserDynamic)().bootstrapModule(_appModule.AppModule)},,,,,function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(6),catch_1=__webpack_require__(20);Observable_1.Observable.prototype.catch=catch_1._catch,Observable_1.Observable.prototype._catch=catch_1._catch},,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(6),throw_1=__webpack_require__(27);Observable_1.Observable.throw=throw_1._throw},function(module,exports,__webpack_require__){"use strict";var ErrorObservable_1=__webpack_require__(28);exports._throw=ErrorObservable_1.ErrorObservable.create},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(6),ErrorObservable=function(_super){function ErrorObservable(error,scheduler){_super.call(this),this.error=error,this.scheduler=scheduler}return __extends(ErrorObservable,_super),ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)},ErrorObservable.dispatch=function(arg){var error=arg.error,subscriber=arg.subscriber;subscriber.error(error)},ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error,scheduler=this.scheduler;return scheduler?scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber}):void subscriber.error(error)},ErrorObservable}(Observable_1.Observable);exports.ErrorObservable=ErrorObservable},,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppModule=void 0;var _dec,_class,_core=__webpack_require__(31),_http=__webpack_require__(38),_router=__webpack_require__(39),_platformBrowser=__webpack_require__(35),_forms=__webpack_require__(65),_core2=__webpack_require__(67),_auth=__webpack_require__(82),_archive=__webpack_require__(86),_common=__webpack_require__(97),_app=__webpack_require__(101),_app2=_interopRequireDefault(_app);exports.AppModule=(_dec=(0,_core.NgModule)({imports:[_platformBrowser.BrowserModule,_http.HttpModule,_forms.FormsModule,_forms.ReactiveFormsModule,_router.RouterModule.forRoot(_app2.default)],declarations:[_core2.CORE_DECLARATIONS,_auth.AUTH_DECLARATIONS,_archive.ARCHIVE_DECLARATIONS,_common.COMMON_DECLARATIONS],providers:[_core2.CORE_PROVIDERS,_auth.AUTH_PROVIDERS,_archive.ARCHIVE_PROVIDERS],bootstrap:[_core2.AppComponent]}),_dec(_class=function AppModule(){_classCallCheck(this,AppModule)})||_class)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CORE_PROVIDERS=exports.CORE_DECLARATIONS=exports.AppComponent=void 0;var _app=__webpack_require__(68),_nav=__webpack_require__(71),_about=__webpack_require__(77),_loggedIn=__webpack_require__(80),_loggedOut=__webpack_require__(81);exports.AppComponent=_app.AppComponent;exports.CORE_DECLARATIONS=[_app.AppComponent,_nav.NavComponent,_about.AboutComponent],exports.CORE_PROVIDERS=[_loggedIn.LoggedInGuard,_loggedOut.LoggedOutGuard]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppComponent=void 0;var _dec,_class,_core=__webpack_require__(31),_appComponent=__webpack_require__(69),_appComponent2=_interopRequireDefault(_appComponent),_appComponent3=__webpack_require__(70),_appComponent4=_interopRequireDefault(_appComponent3);exports.AppComponent=(_dec=(0,_core.Component)({selector:"mms-app",template:_appComponent2.default,styles:[_appComponent4.default]}),_dec(_class=function AppComponent(){_classCallCheck(this,AppComponent)})||_class)},function(module,exports){module.exports='<mms-nav></mms-nav>\n\n<div class="main">\n    <router-outlet></router-outlet>\n</div>\n\n<footer>&copy; SamuraiMe</footer>\n'},function(module,exports){module.exports=":host{display:block;width:100%;max-width:50em;min-width:20em;margin:auto;height:100%;padding-bottom:3em}footer{position:absolute;width:100%;left:0;bottom:0;line-height:2em;text-align:center;color:#999}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NavComponent=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_router=__webpack_require__(39),_auth=__webpack_require__(72),_navComponent=__webpack_require__(75),_navComponent2=_interopRequireDefault(_navComponent),_navComponent3=__webpack_require__(76),_navComponent4=_interopRequireDefault(_navComponent3),NavComponent=exports.NavComponent=(_dec=(0,_core.Component)({selector:"mms-nav",template:_navComponent2.default,styles:[_navComponent4.default]}),_dec(_class=function(){function NavComponent(authService,router){_classCallCheck(this,NavComponent),this.authService=authService,this.router=router}return _createClass(NavComponent,[{key:"logout",value:function(){return this.authService.logout(),this.router.navigate([""]),!1}},{key:"getLoggedIn",value:function(){return this.authService.getLoggedIn()}}]),NavComponent}())||_class);Reflect.defineMetadata("design:paramtypes",[_auth.AuthService,_router.Router],NavComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthService=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_http=__webpack_require__(38),_BehaviorSubject=__webpack_require__(40),_storage=__webpack_require__(73),_request=__webpack_require__(74),AuthService=exports.AuthService=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function AuthService(http,storage,request){_classCallCheck(this,AuthService),this.loggedIn=new _BehaviorSubject.BehaviorSubject(!1),this.http=http,this.storage=storage,this.request=request,this.storage.getAuthToken()&&this.loggedIn.next(!0)}return _createClass(AuthService,[{key:"login",value:function(credentials){var _this=this;return this.http.post("/login",JSON.stringify(credentials),{headers:this.request.getJsonHeaders()}).map(function(res){return res.json()}).map(function(res){return _this.storage.setAuthToken(res.authToken),_this.loggedIn.next(!0),!0}).catch(function(res){return _this.loggedIn.error(res.text())})}},{key:"logout",value:function(){this.storage.removeAuthToken(),this.loggedIn.next(!1)}},{key:"isLoggedIn",value:function(){return this.loggedIn.getValue()}},{key:"getLoggedIn",value:function(){return this.loggedIn}}]),AuthService}())||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http,_storage.StorageService,_request.RequestService],AuthService)},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),STORAGE_KEY="authToken";exports.StorageService=function(){function StorageService(){_classCallCheck(this,StorageService)}return _createClass(StorageService,[{key:"getAuthToken",value:function(){return localStorage.getItem(STORAGE_KEY)}},{key:"setAuthToken",value:function(token){localStorage.setItem(STORAGE_KEY,token)}},{key:"removeAuthToken",value:function(){localStorage.removeItem(STORAGE_KEY)}}]),StorageService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestService=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_http=__webpack_require__(38),_storage=__webpack_require__(73),RequestService=exports.RequestService=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function RequestService(storage){_classCallCheck(this,RequestService),this.storage=storage}return _createClass(RequestService,[{key:"getAuthHeaders",value:function(){var isJson=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],headers=new _http.Headers,authToken=this.storage.getAuthToken();return headers.append("Authorization","Bearer "+authToken),isJson&&headers.append("Content-Type","application/json"),headers}},{key:"getJsonHeaders",value:function(){var headers=new _http.Headers;return headers.append("Content-Type","application/json"),headers}}]),RequestService}())||_class);Reflect.defineMetadata("design:paramtypes",[_storage.StorageService],RequestService)},function(module,exports){module.exports='<ul>\n  <li><a [routerLink]="[\'archive\']" routerLinkActive="active">Archives</a></li>\n  <li *ngIf="getLoggedIn() | async"><a [routerLink]="[\'new\']"  routerLinkActive="active">New</a></li>\n  <li><a [routerLink]="[\'about\']"  routerLinkActive="active">About</a></li>\n</ul>\n<div class="logged" *ngIf="!(getLoggedIn() | async)"><a [routerLink]="[\'login\']">Login</a></div>\n<div class="logged" *ngIf="getLoggedIn() | async"><a href="#" (click)="logout()">Logout</a></div>\n'},function(module,exports){module.exports=":host{position:relative;display:block;margin-bottom:1em}ul{padding-left:0;margin:0}ul li{display:inline-block;padding:1em 0.5em 0 0;font-size:1.2rem}ul a{display:inline-block;padding-bottom:.2em;box-sizing:content-box}ul a.active{border-bottom:1px solid #3c3c3c}.logged{position:absolute;right:0;top:0;font-size:1.2rem;padding-top:1em}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AboutComponent=void 0;var _dec,_class,_core=__webpack_require__(31),_aboutComponent=__webpack_require__(78),_aboutComponent2=_interopRequireDefault(_aboutComponent),_aboutComponent3=__webpack_require__(79),_aboutComponent4=_interopRequireDefault(_aboutComponent3);exports.AboutComponent=(_dec=(0,_core.Component)({selector:"mms-about",template:_aboutComponent2.default,styles:[_aboutComponent4.default]}),_dec(_class=function AboutComponent(){_classCallCheck(this,AboutComponent)})||_class)},function(module,exports){module.exports='<h2>About</h2>\n\n<a href="https://github.com/samuraime/mimosa"><i class="fa fa-github"></i> mimosa</a>\n'},function(module,exports){module.exports=":host{font-size:1.2em}\n"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggedInGuard=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_auth=__webpack_require__(72),LoggedInGuard=exports.LoggedInGuard=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function LoggedInGuard(auth){_classCallCheck(this,LoggedInGuard),this.auth=auth}return _createClass(LoggedInGuard,[{key:"canActivate",value:function(){return this.auth.isLoggedIn()}}]),LoggedInGuard}())||_class);Reflect.defineMetadata("design:paramtypes",[_auth.AuthService],LoggedInGuard)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggedOutGuard=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_auth=__webpack_require__(72),LoggedOutGuard=exports.LoggedOutGuard=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function LoggedOutGuard(auth){_classCallCheck(this,LoggedOutGuard),this.auth=auth}return _createClass(LoggedOutGuard,[{key:"canActivate",value:function(){return!this.auth.isLoggedIn()}}]),LoggedOutGuard}())||_class);Reflect.defineMetadata("design:paramtypes",[_auth.AuthService],LoggedOutGuard)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AUTH_PROVIDERS=exports.AUTH_DECLARATIONS=void 0;var _login=__webpack_require__(83),_auth=__webpack_require__(72),_request=__webpack_require__(74),_storage=__webpack_require__(73);exports.AUTH_DECLARATIONS=[_login.LoginComponent],exports.AUTH_PROVIDERS=[_auth.AuthService,_request.RequestService,_storage.StorageService]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoginComponent=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_forms=__webpack_require__(65),_router=__webpack_require__(39),_auth=__webpack_require__(72),_loginComponent=__webpack_require__(84),_loginComponent2=_interopRequireDefault(_loginComponent),_loginComponent3=__webpack_require__(85),_loginComponent4=_interopRequireDefault(_loginComponent3),LoginComponent=exports.LoginComponent=(_dec=(0,_core.Component)({selector:"mms-login",template:_loginComponent2.default,styles:[_loginComponent4.default]}),_dec(_class=function(){function LoginComponent(builder,authService,router){_classCallCheck(this,LoginComponent),this.authService=authService,this.router=router,this.loginForm=builder.group({email:["",_forms.Validators.required],password:["",_forms.Validators.required]})}return _createClass(LoginComponent,[{key:"onSubmit",value:function(credentials){var _this=this;this.authService.login(credentials).subscribe(function(){_this.router.navigate([""])},function(){_this.loginForm.reset()})}}]),LoginComponent}())||_class);Reflect.defineMetadata("design:paramtypes",[_forms.FormBuilder,_auth.AuthService,_router.Router],LoginComponent)},function(module,exports){module.exports='<h2>Login</h2>\n<form (ngSubmit)="onSubmit(loginForm.value)" [formGroup]="loginForm">\n  <div class="group">\n    <label for="email">Email:</label>\n    <input type="text" formControlName="email" pattern="[\\w\\._]+@\\w+(\\.\\w+)+" />\n  </div>\n  <div\n    *ngIf="loginForm.controls.email.hasError(\'required\') && loginForm.controls.email.touched"\n    class="error"\n  >\n  Email is required\n  </div>\n  <div\n    *ngIf="loginForm.controls.email.hasError(\'pattern\') && loginForm.controls.email.touched"\n    class="error"\n  >\n  Email is invalid\n  </div>\n  <div class="group">\n    <label for="password">Password:</label>\n    <input type="password" formControlName="password" />\n  </div>\n  <div\n    *ngIf="loginForm.controls.password.hasError(\'required\') && loginForm.controls.password.touched"\n    class="error"\n  >\n  Password is required\n  </div>\n  <div class="group">\n    <input type="submit" [disabled]="!loginForm.valid" value="Login" />\n  </div>\n</form>'},function(module,exports){module.exports="form{max-width:30em;margin:0 auto}input{width:100%;text-align:center}.group{margin:1em 0}.group label{display:block;margin-bottom:.5em}.error{margin:1em 0;color:#f00}\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ARCHIVE_DECLARATIONS=exports.ARCHIVE_PROVIDERS=void 0;var _archive=__webpack_require__(87),_archiveList=__webpack_require__(88),_archiveNew=__webpack_require__(91),_archiveCard=__webpack_require__(94);exports.ARCHIVE_PROVIDERS=[_archive.ArchiveService],exports.ARCHIVE_DECLARATIONS=[_archiveList.ArchiveListComponent,_archiveNew.ArchiveNewComponent,_archiveCard.ArchiveCardComponent]},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function upload(url,data,headers,onProgress){var xhr=new XMLHttpRequest,subject=new _Subject.Subject;return xhr.responseType="json",onProgress&&xhr.upload.addEventListener("progress",function(event){onProgress(event)}),xhr.addEventListener("readystatechange",function(event){xhr.readyState===XMLHttpRequest.DONE&&(200===xhr.status?(subject.next(xhr.response),subject.complete()):subject.error(event))}),xhr.open("POST",url),headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(data),subject}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArchiveService=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_http=__webpack_require__(38),_request=__webpack_require__(74),_Subject=__webpack_require__(32),ArchiveService=exports.ArchiveService=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function ArchiveService(http,requestService){_classCallCheck(this,ArchiveService),this.api="/archives",this.http=http,this.requestService=requestService}return _createClass(ArchiveService,[{key:"getOptions",value:function(){return{headers:this.requestService.getAuthHeaders()}}},{key:"getAll",value:function(){return this.http.get(""+this.api).map(function(res){return res.json()})}},{key:"get",value:function(id){return this.http.get(this.api+"/"+id)}},{key:"post",value:function(file,onProgress){var formData=new FormData;return formData.append("archive",file,file.name),upload(""+this.api,formData,this.requestService.getAuthHeaders(!1),onProgress)}},{key:"put",value:function(archive){return this.http.put(this.api+"/"+archive._id,archive,this.getOptions())}},{key:"delete",value:function(id){return this.http.delete(this.api+"/"+id,this.getOptions())}}]),ArchiveService}())||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http,_request.RequestService],ArchiveService)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArchiveListComponent=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_http=__webpack_require__(38),_archive=__webpack_require__(87),_auth=__webpack_require__(72),_archiveListComponent=__webpack_require__(89),_archiveListComponent2=_interopRequireDefault(_archiveListComponent),_archiveListComponent3=__webpack_require__(90),_archiveListComponent4=_interopRequireDefault(_archiveListComponent3),ArchiveListComponent=exports.ArchiveListComponent=(_dec=(0,_core.Component)({selector:"mms-archive-list",template:_archiveListComponent2.default,styles:[_archiveListComponent4.default]}),_dec(_class=function(){function ArchiveListComponent(http,archiveService,authService){_classCallCheck(this,ArchiveListComponent),this.archives=[],this.current=null,this.search="",this.http=http,this.archiveService=archiveService,this.authService=authService}return _createClass(ArchiveListComponent,[{key:"ngOnInit",value:function(){var _this=this;this.archiveService.getAll().subscribe(function(res){_this.archives=res})}},{key:"select",value:function(archive){this.authService.isLoggedIn()&&(this.current=archive)}},{key:"setSearchTag",value:function(tag){this.search=":"+tag}},{key:"remove",value:function(archive){var _this2=this;window.confirm('Delete "'+archive.name+'"?')&&this.archiveService.delete(archive._id).subscribe(function(){_this2.archives.splice(_this2.archives.findIndex(function(f){return f===archive}),1)})}}]),ArchiveListComponent}())||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http,_archive.ArchiveService,_auth.AuthService],ArchiveListComponent)},function(module,exports){module.exports='<input type="text" [(ngModel)]="search" placeholder="Search: filename or :tagname">\n<ul class="archives">\n  <li\n    *ngFor="let archive of archives | searchFilter:search; let i = index; let isOdd = odd"\n    (click)="select(archive)"\n    [class.odd]="isOdd"\n  >\n    <div class="info">\n      <span class="name">{{archive.name}}</span>\n      <span class="ext"><i [class]="archive.name | fileIcon"></i></span>\n      <span class="size">{{archive.size | size}}</span>\n    </div>\n    <ul class="tags">\n      <li\n        *ngFor="let tag of archive.tags; let i = index"\n        (click)="$event.stopPropagation(); setSearchTag(tag)"\n      >\n        {{tag}}\n      </li>\n    </ul>\n    <p class="comment" [title]="archive.comment">{{archive.comment}}</p>\n    <div class="buttons" (click)="$event.stopPropagation()">\n      <a [href]="\'/archives/\' + archive._id + \'/download\'"><i class="fa fa-cloud-download"></i></a>\n      <i *ngIf="authService.getLoggedIn() | async" (click)="remove(archive)" class="fa fa-trash"></i>\n    </div>\n  </li>\n</ul>\n<mms-archive-card\n  *ngIf="current"\n  [archive]="current"\n  (close)="select()"\n>\n</mms-archive-card>\n'},function(module,exports){module.exports="input{display:block;height:2rem;padding:.5em;width:50%;transition:width .5s}input:focus{width:100%}input::placeholder{font-style:italic}input::-webkit-input-placeholder{font-style:italic}@media (max-width: 600px){input{width:100%}}ul.archives{list-style:none;padding-left:0}ul.archives>li{position:relative;padding:1em;border:1px solid #ddd;border-width:0 1px 1px;box-sizing:content-box;cursor:pointer}ul.archives>li:first-child{border-top-width:1px}ul.archives>li .info{padding-right:3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ul.archives>li .info .name{font-size:1.2em;font-weight:bold}ul.archives>li .info .size{font-size:0.8em}ul.archives>li:hover .info{color:#4d804d}ul.archives>li .comment{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ul.archives>li ul.tags{padding:0;padding-top:.25em;margin:.4em 0 .25em;list-style:none;cursor:default}ul.archives>li ul.tags li{display:inline-block;margin-right:.5em;margin-bottom:.25em;padding:.2em;border:1px solid #abbaab;font-size:.9em;cursor:pointer;transition:background .2s}ul.archives>li ul.tags li:hover{background:#ddd}ul.archives>li:hover .buttons{opacity:1}ul.archives>li .buttons{position:absolute;right:1em;top:1em;cursor:default;opacity:0.3;transition:opacity 0.5s}ul.archives>li .buttons i{cursor:pointer;opacity:0.7}ul.archives>li .buttons i:hover{opacity:1}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _initDefineProp(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArchiveNewComponent=void 0;var _dec,_dec2,_class,_class2,_descriptor,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_http=__webpack_require__(38),_forms=__webpack_require__(65),_archive=__webpack_require__(87),_archiveNewComponent=__webpack_require__(92),_archiveNewComponent2=_interopRequireDefault(_archiveNewComponent),_archiveNewComponent3=__webpack_require__(93),_archiveNewComponent4=_interopRequireDefault(_archiveNewComponent3),ArchiveNewComponent=exports.ArchiveNewComponent=(_dec=(0,_core.Component)({selector:"mms-archive-new",template:_archiveNewComponent2.default,styles:[_archiveNewComponent4.default]}),_dec2=(0,_core.ViewChild)("picker"),_dec((_class2=function(){function ArchiveNewComponent(http,builder,archiveService){_classCallCheck(this,ArchiveNewComponent),_initDefineProp(this,"picker",_descriptor,this),this.current=null,this.http=http,this.form=builder.group({}),this.archiveService=archiveService,this.archives=[],this.isDragOver=!1,document.addEventListener("drop",function(e){e.preventDefault()},!1)}return _createClass(ArchiveNewComponent,[{key:"mergeArchives",value:function(newArchives){var _this=this;newArchives.forEach(function(archive){void 0===archive.loaded&&(archive.loaded=0,archive.total=archive.size,archive.upload={})}),this.archives=this.archives.concat(newArchives.filter(function(archive){return!_this.archives.find(function(a){return["name","size","type","lastModified"].every(function(key){return archive[key]===a[key]})})}))}},{key:"onClick",value:function(){var pickEvent=new MouseEvent("click");this.picker.nativeElement.dispatchEvent(pickEvent)}},{key:"onChange",value:function(){var newArchives=Array.from(this.picker.nativeElement.files);this.mergeArchives(newArchives)}},{key:"onDragOver",value:function(e){e.preventDefault(),this.isDragOver=!0}},{key:"onDragLeave",value:function(){this.isDragOver=!1}},{key:"onDrop",value:function(e){e.preventDefault();var newArchives=Array.from(e.dataTransfer.files);this.mergeArchives(newArchives)}},{key:"upload",value:function(archive){this.archiveService.post(archive,function(event){archive.loaded=event.loaded,archive.total=event.total}).subscribe(function(res){archive.status="success",archive.upload=res},function(){archive.status="error"})}},{key:"onSubmit",value:function(e){var _this2=this;e.preventDefault();var archives=Array.from(this.archives);archives.forEach(function(archive){"success"!==archive.status&&_this2.upload(archive)})}},{key:"edit",value:function(archive){this.current=archive.upload}},{key:"removeCurrent",value:function(){this.current=null;
}},{key:"remove",value:function(archive){var _this3=this,removeArchive=function(){var index=_this3.archives.findIndex(function(f){return f===archive});_this3.archives.splice(index,1)};"success"===archive.status?window.confirm('Delete "'+archive.name+'"?')&&this.archiveService.delete(archive.upload._id).subscribe(function(){removeArchive()}):removeArchive()}},{key:"reupload",value:function(archive){archive.status=null,this.upload(archive)}}]),ArchiveNewComponent}(),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"picker",[_dec2],{enumerable:!0,initializer:function(){return this.picker}}),_class=_class2))||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http,_forms.FormBuilder,_archive.ArchiveService],ArchiveNewComponent)},function(module,exports){module.exports='<form (ngSubmit)="onSubmit($event)" [formGroup]="form">\n  <input #picker type="file" multiple (change)="onChange()">\n  <div class="target" \n    (click)="onClick($event)"\n    (dragover)="onDragOver($event)"\n    (dragleave)="onDragLeave()"\n    (drop)="onDrop($event)"\n    [class.dragover]="isDragOver"\n  >\n    <i class="fa fa-cloud-upload"></i>\n    <p>Drop your files here!</p>\n  </div>\n  <ul>\n    <li *ngFor="let archive of archives; let i = index">\n      <span class="name">{{archive.upload.name || archive.name}}</span>\n      <div class="progress-container">\n        <div\n          class="progress"\n          [class.success]="archive.status === \'success\'"\n          [class.error]="archive.status === \'error\'"\n          [style.width]="archive.loaded / archive.total * 100 + \'%\'"\n        >\n        </div>\n        <div class="hint">{{archive.loaded | size}}/{{archive.total | size}}</div>\n      </div>\n      <span class="action">\n        <i (click)="edit(archive)" *ngIf="archive.status === \'success\'" class="fa fa-pencil"></i>\n        <i (click)="reupload(archive)" *ngIf="archive.status === \'error\'" class="fa fa-refresh"></i>\n        <i (click)="remove(archive)" class="fa fa-times"></i>\n      </span>\n    </li>\n  </ul>\n  <input type="submit" value="Upload">\n</form>\n<mms-archive-card\n  *ngIf="current"\n  [archive]="current"\n  (close)="removeCurrent()"\n>\n</mms-archive-card>\n'},function(module,exports){module.exports='input[type="file"]{display:none}.target{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:12em;margin:1em auto;border:1px solid rgba(0,0,0,0.3);cursor:pointer}.target.dragover{border-style:dashed}.target i{font-size:5em}.target p{margin:0;text-align:center;font-size:1.2em}ul{padding-left:0;list-style:none}ul li{position:relative;height:2rem;margin:1em auto;background:#ddd;padding:0 1em;cursor:pointer}ul li .progress-container{position:absolute;left:50%;top:0;width:50%;height:100%;padding:2px;border:1px solid #ddd;transform:translateX(-50%);border-radius:1000px;background:#fff;overflow:hidden}ul li .progress-container .progress{width:0%;height:100%;border-radius:1000px;background-color:#fff;transition:width 0.1s}ul li .progress-container .progress.success{background-color:#40bf40}ul li .progress-container .progress.error{background-color:#bf4040}ul li .progress-container .hint{position:absolute;width:100%;height:100%;top:0;left:0;text-align:center;line-height:2em}ul li .name{display:inline-flex;align-items:center;height:100%;max-width:25%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ul li .action{display:inline-flex;align-items:center;max-width:25%;height:100%;float:right;cursor:default}ul li .action i{cursor:pointer;padding:0.2em}input[type="submit"]{width:100%;margin:auto;cursor:pointer}\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _initDefineProp(target,property,descriptor,context){descriptor&&Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArchiveCardComponent=void 0;var _dec,_dec2,_dec3,_dec4,_dec5,_class,_class2,_descriptor,_descriptor2,_descriptor3,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31),_archive=__webpack_require__(87),_archiveCardComponent=__webpack_require__(95),_archiveCardComponent2=_interopRequireDefault(_archiveCardComponent),_archiveCardComponent3=__webpack_require__(96),_archiveCardComponent4=_interopRequireDefault(_archiveCardComponent3),ArchiveCardComponent=exports.ArchiveCardComponent=(_dec=(0,_core.Component)({selector:"mms-archive-card",template:_archiveCardComponent2.default,styles:[_archiveCardComponent4.default]}),_dec2=(0,_core.ViewChild)("tagInput"),_dec3=(0,_core.HostListener)("click"),_dec4=(0,_core.Input)(),_dec5=(0,_core.Output)(),_dec((_class2=function(){function ArchiveCardComponent(archiveService){_classCallCheck(this,ArchiveCardComponent),_initDefineProp(this,"tagInput",_descriptor,this),_initDefineProp(this,"archive",_descriptor2,this),_initDefineProp(this,"close",_descriptor3,this),this.archiveService=archiveService,this.tagInputValue="",this.tagInputVisible=!1}return _createClass(ArchiveCardComponent,[{key:"onTagInputBlurClick",value:function(){this.onTagInputBlur()}}]),_createClass(ArchiveCardComponent,[{key:"onClose",value:function(){this.close.emit()}},{key:"update",value:function(){this.archiveService.put(this.archive).subscribe(function(res){console.log(res)})}},{key:"removeTag",value:function(i){this.archive.tags.splice(i,1)}},{key:"addTag",value:function(){""!==this.tagInputValue&&(this.archive.tags.push(this.tagInputValue),this.tagInputValue="")}},{key:"onClickAddTag",value:function(e){var _this=this;e.stopPropagation(),this.addTag(),this.tagInputVisible=!0,setTimeout(function(){return _this.tagInput.nativeElement.focus()})}},{key:"onTagInputChange",value:function(e){var seps=[13,188];seps.includes(e.keyCode)&&(e.preventDefault(),this.addTag())}},{key:"onTagInputBlur",value:function(){this.addTag(),this.tagInputVisible=!1}}]),ArchiveCardComponent}(),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"tagInput",[_dec2],{enumerable:!0,initializer:function(){return this.tagInput}}),_applyDecoratedDescriptor(_class2.prototype,"onTagInputBlurClick",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"onTagInputBlurClick"),_class2.prototype),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"archive",[_dec4],{enumerable:!0,initializer:function(){return this.archive}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"close",[_dec5],{enumerable:!0,initializer:function(){return new _core.EventEmitter}}),_class=_class2))||_class);Reflect.defineMetadata("design:paramtypes",[_archive.ArchiveService],ArchiveCardComponent)},function(module,exports){module.exports='<div class="card">\n  <i (click)="onClose()" class="fa fa-times close"></i>\n  <input class="name editable" type="text" [(ngModel)]="archive.name" placeholder="archive name">\n  <div class="meta">\n    <i [class]="archive.name | fileIcon"></i>\n    <span>{{archive.mimetype}}</span>\n    <span>{{archive.size | size}}</span>\n  </div>\n  <p class="datetime">CreatedAt: {{archive.createdAt | date:\'y-M-dd H:mm:ss\'}}</p>\n  <p #comment (blur)="archive.comment=comment.innerText" class="comment editable" contenteditable>\n    {{archive.comment || \'add some comments here\'}}\n  </p>\n  <ul class="tags">\n    <li *ngFor="let tag of archive.tags; let i = index">\n      {{tag}}<i class="fa fa-times" (click)="removeTag(i)"></i>\n    </li>\n    <li class="add-input" [class.hidden]="!tagInputVisible">\n      <input #tagInput type="text" [(ngModel)]="tagInputValue" (keydown)="onTagInputChange($event)">\n    </li>\n    <li class="add" (click)="onClickAddTag($event)">\n      <i class="fa fa-plus"></i>Add\n    </li>\n  </ul>\n  <div class="buttons">\n    <button (click)="onClose()">Cancel</button>\n    <button (click)="update()" >Update</button>\n  </div>\n</div>'},function(module,exports){module.exports=":host{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.7)}.card{position:absolute;left:50%;top:50%;display:block;width:50%;max-width:30em;min-width:20em;transform:translate(-50%, -50%);padding:1.8rem 1rem 1rem;background:#fff}.card .editable{padding:.25rem .5rem;border:1px solid #ddd}.card .name{display:block;width:100%;margin-top:0;margin-bottom:.5rem}.card .meta{display:flex;align-items:center;margin:.5em 0}.card .meta i{padding-right:.2em}.card .meta span{white-space:nowrap;margin-left:.3rem}.card .datetime{color:#666}.card .comment{display:block;width:100%;min-height:2rem;line-height:1.2;margin:.5rem 0}.card ul.tags{padding:0;margin-bottom:0;list-style:none}.card ul.tags li{display:inline-block;margin-right:.5em;margin-bottom:.5em;padding:.3em;border:1px solid #abbaab;cursor:default}.card ul.tags li i{font-size:.8em;margin-left:.2em;color:#666;transition:color .5s;cursor:pointer}.card ul.tags li i :hover{color:#000}.card ul.tags li.add-input input{display:inline-block;height:unset;width:10em;border:0;padding:0}.card ul.tags li.add-input.hidden{position:absolute;display:block;width:0;padding:0;border:0;margin:0;overflow:hidden}.card ul.tags li.add{cursor:pointer}.card ul.tags li.add i{margin:0 .2em 0 0}.card .buttons{display:flex;justify-content:flex-end}.card .buttons button{margin-left:1em;height:2em}.card .close{position:absolute;right:.5rem;top:.5rem;cursor:pointer}\n"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.COMMON_DECLARATIONS=void 0;var _size=__webpack_require__(98),_fileIcon=__webpack_require__(99),_searchFilter=__webpack_require__(100);exports.COMMON_DECLARATIONS=[_size.SizePipe,_fileIcon.FileIconPipe,_searchFilter.SearchFilterPipe]},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizePipe=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31);exports.SizePipe=(_dec=(0,_core.Pipe)({name:"size"}),_dec(_class=function(){function SizePipe(){_classCallCheck(this,SizePipe)}return _createClass(SizePipe,[{key:"transform",value:function(value){var units=["GB","MB","KB","B"],len=units.length,byte=Number.parseInt(value,10);if(Number.isNaN(byte))throw new TypeError("size must be a Number");var sizes=units.map(function(size,index){var unitSize=Math.pow(2,10*(len-index-1)),v=Math.floor(byte/unitSize);return byte%=unitSize,v}),nonZeroIndex=sizes.findIndex(function(size){return!!size});if(nonZeroIndex===-1)return 0;if(nonZeroIndex===len-1)return""+sizes.slice(-1)+units.slice(-1);var v=sizes[nonZeroIndex]+sizes[nonZeroIndex+1]/1e3;return v=v.toFixed(2),v+=units[nonZeroIndex]}}]),SizePipe}())||_class)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileIconPipe=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31);exports.FileIconPipe=(_dec=(0,_core.Pipe)({name:"fileIcon"}),_dec(_class=function(){function FileIconPipe(){_classCallCheck(this,FileIconPipe),this.icons=[{icon:"file-archive-o",exts:["zip","rar","tar","tar.gz","tgz"]},{icon:"file-audio-o",exts:["mp3","wav"]},{icon:"file-video-o",exts:["mp4","avi","rmvb","mkv","ogg"]},{icon:"file-image-o",exts:["png","jpg","gif"]},{icon:"file-excel-o",exts:["xls","xlsx"]},{icon:"file-word-o",exts:["doc","docx"]},{icon:"file-powerpoint-o",exts:["ppt","pptx"]},{icon:"file-pdf-o",exts:["pdf"]},{icon:"file-code-o",exts:["html","css","js","php","sh","json"]},{icon:"file-text-o",exts:["txt","md"]},{icon:"file",exts:["exe","msi","apk","dmg"]},{icon:"file-o",exts:[""]}]}return _createClass(FileIconPipe,[{key:"extname",value:function(filename){var ext=filename.includes(".")?filename.split(".").pop():"";return ext.toLowerCase()}},{key:"transform",value:function(filename){var ext=this.extname(filename),found=this.icons.find(function(d){return d.exts.includes(ext)});return found?"fa fa-"+found.icon:this.transform("")}}]),FileIconPipe}())||_class)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchFilterPipe=void 0;var _dec,_class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_core=__webpack_require__(31);exports.SearchFilterPipe=(_dec=(0,_core.Pipe)({name:"searchFilter"}),_dec(_class=function(){function SearchFilterPipe(){_classCallCheck(this,SearchFilterPipe)}return _createClass(SearchFilterPipe,[{key:"filterName",value:function(archives,name){return name?archives.filter(function(f){return f.name.toLowerCase().includes(name)}):archives}},{key:"filterTags",value:function(archives,tags){return archives.filter(function(f){return tags.every(function(tag){return f.tags.map(function(t){return t.toLowerCase()}).some(function(t){return t.includes(tag)})})})}},{key:"transform",value:function(archives,searchStr){var search=searchStr.toLowerCase(),tagSep=":",filename=search.includes(tagSep)?search.split(tagSep,2)[0]:search,a=archives,matched=search.match(/\:([^\:]+)?/g);if(matched){var tags=matched.map(function(tag){return tag.substr(1)});a=this.filterTags(a,tags)}return this.filterName(a,filename)}}]),SearchFilterPipe}())||_class)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _archiveList=__webpack_require__(88),_archiveNew=__webpack_require__(91),_about=__webpack_require__(77),_login=__webpack_require__(83),_loggedIn=__webpack_require__(80),_loggedOut=__webpack_require__(81);exports.default=[{path:"",pathMatch:"full",redirectTo:"archive"},{path:"archive",component:_archiveList.ArchiveListComponent},{path:"new",component:_archiveNew.ArchiveNewComponent,canActivate:[_loggedIn.LoggedInGuard]},{path:"about",component:_about.AboutComponent},{path:"login",component:_login.LoginComponent,canActivate:[_loggedOut.LoggedOutGuard]}]}]);
//# sourceMappingURL=main.js.map